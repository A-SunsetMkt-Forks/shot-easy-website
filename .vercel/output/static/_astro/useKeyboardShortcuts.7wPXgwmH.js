import{r as d}from"./index.OjgoNOWw.js";var E=["Shift","Meta","Alt","Control"],y=typeof navigator=="object"?navigator.platform:"",b=/Mac|iPod|iPhone|iPad/.test(y),M=b?"Meta":"Control",h=y==="Win32"?["Control","Alt"]:b?["Alt"]:[];function v(e,t){return typeof e.getModifierState=="function"&&(e.getModifierState(t)||h.includes(t)&&e.getModifierState("AltGraph"))}function w(e){return e.trim().split(" ").map(function(t){var r=t.split(/\b\+/),u=r.pop();return[r=r.map(function(n){return n==="$mod"?M:n}),u]})}function C(e,t){var r;t===void 0&&(t={});var u=(r=t.timeout)!=null?r:1e3,n=Object.keys(e).map(function(i){return[w(i),e[i]]}),o=new Map,c=null;return function(i){i instanceof KeyboardEvent&&(n.forEach(function(m){var a=m[0],g=m[1],p=o.get(a)||a;(function(l,f){return!(f[1].toUpperCase()!==l.key.toUpperCase()&&f[1]!==l.code||f[0].find(function(s){return!v(l,s)})||E.find(function(s){return!f[0].includes(s)&&f[1]!==s&&v(l,s)}))})(i,p[0])?p.length>1?o.set(a,p.slice(1)):(o.delete(a),g(i)):v(i,i.key)||o.delete(a)}),c&&clearTimeout(c),c=setTimeout(o.clear.bind(o),u))}}function S(e,t,r){var u;r===void 0&&(r={});var n=(u=r.event)!=null?u:"keydown",o=C(t,r);return e.addEventListener(n,o),function(){e.removeEventListener(n,o)}}function A(e,t,r){const u=d.useRef(e),n=d.useRef(t);d.useEffect(()=>{u.current=e,n.current=t},[...r]),d.useEffect(()=>{const o=S(window,{"$mod+KeyS":c=>{c.preventDefault(),u.current&&u.current()},"$mod+KeyC":c=>{c.preventDefault(),n&&n.current()}});return()=>{o()}},[window])}export{S as c,A as u};
