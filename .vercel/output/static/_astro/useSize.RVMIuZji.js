import{R as p,r as C}from"./index.OjgoNOWw.js";import{r as B,a as V}from"./toArray.nS7GZgeY.js";import{b as y,e as E,S as M}from"./reactNode.B2HQCb_2.js";function R(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return p.Children.forEach(e,function(r){r==null&&!n.keepEmpty||(Array.isArray(r)?t=t.concat(R(r)):B.isFragment(r)&&r.props?t=t.concat(R(r.props.children,n)):t.push(r))}),t}function m(e){var n=C.useRef();n.current=e;var t=C.useCallback(function(){for(var r,a=arguments.length,f=new Array(a),u=0;u<a;u++)f[u]=arguments[u];return(r=n.current)===null||r===void 0?void 0:r.call.apply(r,[n].concat(f))},[]);return t}function c(e){return e!==void 0}function U(e,n){var t=n||{},r=t.defaultValue,a=t.value,f=t.onChange,u=t.postState,x=y(function(){return c(a)?a:c(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),v=V(x,2),o=v[0],g=v[1],s=a!==void 0?a:o,S=u?u(s):s,A=m(f),b=y([s]),l=V(b,2),d=l[0],F=l[1];E(function(){var i=d[0];o!==i&&A(o,i)},[d]),E(function(){c(a)||g(a)},[a]);var w=m(function(i,h){g(i,h),F([s],h)});return[S,w]}const _=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var n=e.getBBox(),t=n.width,r=n.height;if(t||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),f=a.width,u=a.height;if(f||u)return!0}}return!1},I=e=>{const n=p.useContext(M);return p.useMemo(()=>e?typeof e=="string"?e??n:e instanceof Function?e(n):n:n,[e,n])},$=I;export{$ as a,m as b,_ as i,R as t,U as u};
